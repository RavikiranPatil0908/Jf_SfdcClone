/**
 * @description       : 
 * @author            : @BK
 * @group             : 
 * @last modified on  : 05-06-2021
 * @last modified by  : @BK
 * Modifications Log 
 * Ver   Date         Author   Modification
 * 1.0   05-06-2021   @BK   Initial Version
**/
// /*Code generated by ForceXtra.com */
// @isTest//(SeeAllData=true)
// private class LiveLectureEmailComponentController_Test
// {
//     @TestSetup
//     static void makeData(){
//         nmGenericTracker.InsertSerialNo();
//         nmGenericTracker.CreateCenter('Mumbai');
//         nmGenericTracker.CreateProduct('Live Lectures',1200);
//         Calender__c objCal = new Calender__c();
//         objCal.Session_Start_Date__c = System.today()+60;
//         objCal.Session__c = 'July';
//         objCal.Year__c = 2020;
//         objCal.LectureDeliveryStartRange__c = 7;
//         objCal.Session_End_Date__c = system.today()+60;
//         objCal.nm_Type__c = 'Post Graduate Diploma Programs';
//         insert objCal;

//         Lead objLead = nmGenericTracker.CreateLeadWithProgramAndCenterAndECForGivenDefenceAndLateral('No',false);
//         nmGenericTracker.CreatePaymentRecords(objLead.id,'Registration','Lead','Registration');

//         Account objAccount = nmGenericTracker.CreateAccountWithCenterAndECForGivenDefenceAndLateralAndStatus('Yes',false,'Confirmed');
//         objAccount.nm_Tagged_Pricebook__c = null;
//         objAccount.nm_LeadId__c = String.valueOf(objLead.id).left(17)+'A';
//         objAccount.nm_DateOfBirth__c =system.today();
//         objAccount.nm_ProgramType__c = 'Post Graduate Diploma Programs';
//         update objAccount;

//         Opportunity objopp = nmGenericTracker.CreatePGOpportunityWithAccountAndProgramForGivenStageAndSem('Closed Won','1',objAccount,'FullFee');
//         objopp.CourseList__c = '42, 58, 72, 22';
//         update objopp;
//         nmGenericTracker.CreateOpportunityLineItem(objopp);

//         NM_Payment_Form_Configuration__c nmpay = nmGenericTracker.createPaymentFOrmConfiguration('Post Graduate Diploma Programs','Admission','1');        
//         nmpay.ShowLiveLectures__c = true;
//         nmpay.Current_Admission_Year__c = '2020';
//         nmpay.Session__c = 'July';
//         nmpay.Program_Type__c = null;
//         update nmpay;

//         Product2 lateFeeproduct = nmGenericTracker.CreatelateProduct(objopp);

//         Product2 productvs1 = nmGenericTracker.CreateSemesterProductvs2(objopp.nm_Program__c,1);
//         nm_Courses__c course1 = nmGenericTracker.CreateCourseList(objopp,1,'Business Economics',productvs1.id,23);
//         update course1;
//         nm_Courses__c course2 =nmGenericTracker.CreateCourseList(objopp,1,'Economics',productvs1.id,45);
//         update course2;
//         nm_Courses__c course3 =nmGenericTracker.CreateCourseList(objopp,1,'Business science',productvs1.id,67);
//         update course3;
//         Product2 productvs2 =  nmGenericTracker.CreateSemesterProductvs2(objopp.nm_Program__c,2);
//         nm_Courses__c course4 = nmGenericTracker.CreateCourseList(objopp,2,'Economics value',productvs2.id,673);
//         nm_Courses__c course5 = nmGenericTracker.CreateCourseList(objopp,2,'Economics to resolved',productvs2.id,43);
//         nm_Courses__c course6 = nmGenericTracker.CreateCourseList(objopp,2,'Business to overcome',productvs2.id,232);
//         Product2 productvs3 = nmGenericTracker.CreateSemesterProductvs2(objopp.nm_Program__c,3);
//         nmGenericTracker.CreateCourseList(objopp,3,'Supply chain',productvs3.id,672);
//         nmGenericTracker.CreateCourseList(objopp,3,'Disbursed chain',productvs3.id,345);
//         Product2 productvs4 = nmGenericTracker.CreateSemesterProductvs2(objopp.nm_Program__c,4);
//         nmGenericTracker.CreateCourseList(objopp,4,'Trade head',productvs4.id,897);
//         nmGenericTracker.CreateCourseList(objopp,4,'Stock market',productvs4.id,5667);
//         Product2 registrationproduct = nmGenericTracker.CreateRegistrationProduct(objopp);
//         Product2 Careerproduct = nmGenericTracker.CreateCareerProduct(objopp);
//         nmGenericTracker.CreatePriceBookEntry(lateFeeproduct,1000);
//         nmGenericTracker.CreatePriceBookEntry(registrationproduct,1200);
//         nmGenericTracker.CreatePriceBookEntry(Careerproduct ,1200);
//         Product2 semesterproduct = nmGenericTracker.CreateSemesterProduct(objopp);
//     }

//     @isTest
//     static void unitTest1() {
//         Test.startTest();
//         LiveLectureEmailComponentController instance = new LiveLectureEmailComponentController();
//         List<Opportunity> opp = [SELECT CourseList__c FROM Opportunity];
//         System.assertEquals(1, opp.size(), opp.size());
//         system.debug(opp[0].id + '*&&&(&&(&(&(&&^^^^^^^^^^^^^');
//         // List<Integer> courseListId = new List<Integer>();
//         // System.debug(opp + '##$#$#$#$#$#$#$#$#$#$#$$#$');
    
//         // List<String> newLis =opp[0].CourseList__c.split(',');
//         // for(String s: newLis) {
//         //     courseListId.add(Integer.valueOf(s));
//         // }
//         system.assertEquals('42, 58, 72, 22', opp[0].CourseList__c, opp[0].CourseList__c);
//         Test.stopTest();
//     }
// }
/*Code generated by ForceXtra.com */
@isTest(SeeAllData=false)
public class LiveLectureEmailComponentController_Test
{
	//Initial Test Data
	//Add Logic to Create data required

    @TestSetup
        static void makeData(){
            nmGenericTracker.InsertSerialNo();
            nmGenericTracker.CreateCenter('Mumbai');
            nmGenericTracker.CreateProduct('Live Lectures',1200);
            Calender__c objCal = new Calender__c();
            objCal.Session_Start_Date__c = System.today()+60;
            objCal.Session__c = 'July';
            objCal.Year__c = 2020;
            // objCal.LectureDeliveryStartRange__c = 7;
            objCal.Session_End_Date__c = system.today()+60;
            objCal.nm_Type__c = 'Post Graduate Diploma Programs';
            insert objCal;
    
            Lead objLead = nmGenericTracker.CreateLeadWithProgramAndCenterAndECForGivenDefenceAndLateral('No',false);
            nmGenericTracker.CreatePaymentRecords(objLead.id,'Registration','Lead','Registration');
    
            Account objAccount = nmGenericTracker.CreateAccountWithCenterAndECForGivenDefenceAndLateralAndStatus('Yes',false,'Confirmed');
            objAccount.nm_Tagged_Pricebook__c = null;
            objAccount.nm_LeadId__c = String.valueOf(objLead.id).left(17)+'A';
            objAccount.nm_DateOfBirth__c =system.today();
            objAccount.nm_ProgramType__c = 'Post Graduate Diploma Programs';
            update objAccount;
    
            Opportunity objopp = nmGenericTracker.CreatePGOpportunityWithAccountAndProgramForGivenStageAndSem('Closed Won','1',objAccount,'FullFee');
            objopp.CourseList__c = '1,2,3,4';
            update objopp;
            nmGenericTracker.CreateOpportunityLineItem(objopp);
    
            NM_Payment_Form_Configuration__c nmpay = nmGenericTracker.createPaymentFOrmConfiguration('Post Graduate Diploma Programs','Admission','1');        
            nmpay.ShowLiveLectures__c = true;
            nmpay.Current_Admission_Year__c = '2020';
            nmpay.Session__c = 'July';
            nmpay.Program_Type__c = null;
            update nmpay;
    
            Product2 lateFeeproduct = nmGenericTracker.CreatelateProduct(objopp);
    
            Product2 productvs1 = nmGenericTracker.CreateSemesterProductvs2(objopp.nm_Program__c,1);
            nm_Courses__c course1 = nmGenericTracker.CreateCourseList(objopp,1,'Business Economics',productvs1.id,1);
            
            nm_Courses__c course2 =nmGenericTracker.CreateCourseList(objopp,1,'Economics',productvs1.id,2);
            nm_Courses__c course3 =nmGenericTracker.CreateCourseList(objopp,1,'Business science',productvs1.id,3);
            nm_Courses__c course4 =nmGenericTracker.CreateCourseList(objopp,1,'Economics science',productvs1.id,4);
            nm_Courses__c course5 =nmGenericTracker.CreateCourseList(objopp,1,'Mechanics science',productvs1.id,5);
            nm_Courses__c course6 =nmGenericTracker.CreateCourseList(objopp,1,'Economics Mechanics',productvs1.id,6);
            // Product2 productvs4 =  nmGenericTracker.CreateSemesterProductvs2(objopp.nm_Program__c,2);
            // nm_Courses__c course4 = nmGenericTracker.CreateCourseList(objopp,2,'Economics value',productvs2.id,673);
            // nm_Courses__c course5 = nmGenericTracker.CreateCourseList(objopp,2,'Economics to resolved',productvs2.id,43);
            // nm_Courses__c course6 = nmGenericTracker.CreateCourseList(objopp,2,'Business to overcome',productvs2.id,232);
            // Product2 productvs3 = nmGenericTracker.CreateSemesterProductvs2(objopp.nm_Program__c,3);
            // nmGenericTracker.CreateCourseList(objopp,3,'Supply chain',productvs3.id,672);
            // nmGenericTracker.CreateCourseList(objopp,3,'Disbursed chain',productvs3.id,345);
            // Product2 productvs4 = nmGenericTracker.CreateSemesterProductvs2(objopp.nm_Program__c,4);
            // nmGenericTracker.CreateCourseList(objopp,4,'Trade head',productvs4.id,897);
            // nmGenericTracker.CreateCourseList(objopp,4,'Stock market',productvs4.id,5667);
            // Product2 registrationproduct = nmGenericTracker.CreateRegistrationProduct(objopp);
            // Product2 Careerproduct = nmGenericTracker.CreateCareerProduct(objopp);
            // nmGenericTracker.CreatePriceBookEntry(lateFeeproduct,1000);
            // nmGenericTracker.CreatePriceBookEntry(registrationproduct,1200);
            // nmGenericTracker.CreatePriceBookEntry(Careerproduct ,1200);
            // Product2 semesterproduct = nmGenericTracker.CreateSemesterProduct(objopp);
        }
	static LiveLectureEmailComponentController instance = null;
	static void SetUp(){
		test.StartTest();
		instance = new LiveLectureEmailComponentController();
		
	}
	//Tear Down 
	//Add Logic to delete data that has been created
	static void TearDown(){
		test.StopTest();
	}
	
	public static testmethod void Test_AllContructors(){
		SetUp();
		LiveLectureEmailComponentController instance1 = new LiveLectureEmailComponentController();
		
		TearDown();
	}
	public static testmethod void Test_AllProperties(){
		SetUp();
		// Test Property: emailName
		// instance.emailName = '';
		// System.Assert(instance.emailName == '');
		
		// Test Property: CoursesName
		instance.CoursesName = '';
		System.Assert(instance.CoursesName == '');
		
		// Test Property: RecordedName
		instance.RecordedName = '';
		System.Assert(instance.RecordedName == '');
		
		// Test Property: CourseCount
		instance.CourseCount = 0;
		System.Assert(instance.CourseCount == 0);
		
		// Test Property: RecordedCount
		instance.RecordedCount = 0;
		System.Assert(instance.RecordedCount == 0);
		
		TearDown();
	}
	// Test Method: getOpportunityId
	public static testmethod void Test_getOpportunityId(){
		SetUp();
		// TODO : Change following Assert Statement
		// System.Assert(instance.getOpportunityId() == '');
		TearDown();
	}
	// Test Method: setOpportunityId
	public static testmethod void Test_setOpportunityId(){
		List<Opportunity> lstOpp = [SELECT id FROM Opportunity LIMIT 1];
		SetUp();
        string opportunityid = lstOpp[0].id;
		// TODO : Add extra code to validate the method call
		instance.setOpportunityId(opportunityid);
        instance.getOpportunityId();
		TearDown();
	}
	// Test Method: getCourseNameFromCourseId
	// public static testmethod void Test_getCourseNameFromCourseId(){
    //     List<Opportunity> lstOpp = [SELECT id FROM Opportunity LIMIT 1];
	// 	SetUp();
    //     string opportunityid = lstOpp[0].id;
	// 	// TODO : Add extra code to validate the method call
	// 	instance.setOpportunityId(opportunityid);
	// 	// TODO : Add extra code to validate the method call
	// 	// instance.getCourseNameFromCourseId();
    //     // List<Opportunity> opp = [SELECT CourseList__c FROM Opportunity];
    //     //         System.assertEquals(1, opp.size(), opp.size());
    //     //         system.debug(opp[0].id + '*&&&(&&(&(&(&&^^^^^^^^^^^^^');
    //     //         // List<Integer> courseListId = new List<Integer>();
    //     //         // System.debug(opp + '##$#$#$#$#$#$#$#$#$#$#$$#$');
            
    //     //         // List<String> newLis =opp[0].CourseList__c.split(',');
    //     //         // for(String s: newLis) {
    //     //         //     courseListId.add(Integer.valueOf(s));
    //     //         // }
    //     //         system.assertEquals('1,2,3,4', opp[0].CourseList__c, opp[0].CourseList__c);


    //     //         if(opp.size() > 0 ) {
    //     //             List<Integer> courseListId = new List<Integer>();
    //     //             System.debug(opp);
    //     //             List<String> newLis =opp[0].CourseList__c.split(',');
            
    //     //             for(String s: newLis) {
    //     //                 courseListId.add(Integer.valueOf(s));
    //     //             }
    //     //             if(courseListId.size() > 0 ) {
    //     //                 List<nm_Courses__c> courseName = [SELECT Name FROM nm_Courses__c WHERE Student_Zone_Course_Id__c IN :courseListId];
                       
    //     //                 List < String > strList = new List<String>();
    //     //                 if(courseName.size() > 0) {
    //     //                     for(nm_Courses__c courses : courseName) {
    //     //                         strList.add(courses.Name);
    //     //                     }
    //     //                     system.assertEquals(4, courseName.size(), courseName.size());
    //     //                     String CourseListNames = String.join( strList, ', ' );  
    //     //                     system.debug( 'Joined with coma is ' +CourseListNames );  
    //     //                     // this.CoursesName = CourseListNames;
    //     //                     system.assertEquals('Business Economics, Economics, Business science, Economics science', CourseListNames);
    //     //                 }
                    
    //     //         }
    //     //     }

	// 	TearDown();
	// }
	// Test Method: getCoursesNameForRecorded
	// public static testmethod void Test_getCoursesNameForRecorded(){
	// 	SetUp();
	// 	// TODO : Add extra code to validate the method call
	// 	instance.getCoursesNameForRecorded();
	// 	TearDown();
	// }
}
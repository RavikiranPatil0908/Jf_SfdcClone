<!--
  @description       : 
  @author            : @Ravi
  @group             : 
  @last modified on  : 09-25-2024
  @last modified by  : @Ravi
-->
<template>
    <lightning-card title="Quick Search Component">
        <div class="slds-p-around_medium">
            <div class="slds-grid">
                <div class="slds-col slds-size_2-of-8 slds-no-flex slds-align-bottom slds-shrink">
                    <div class="slds-is-relative">
                        <lightning-input type="search" data-key="search" placeholder="Search the list..." value={searchKey} onchange={handleSearchKeyChange} onfocus={loadPopUp} onblur={hidePopUp} autocomplete="off"></lightning-input>
                        <div role="tooltip" id="listviewSearchTooltip-186" style="width: 15rem;" class={popoverClass}>
                            <div class="slds-popover__body">Name, Email, Mobile No and Registration No are the searchable fields.</div>
                        </div>
                    </div>
                </div>
                <div class="slds-col slds-no-flex slds-align-bottom">
                    <div class="slds-m-left_xx-small">
                        <button class="slds-button slds-button_brand" onclick={handleSearch}>Search</button>
                    </div>
                </div>
            </div>
        </div>

        <template if:true={results}>
            <lightning-datatable
                key-field="Id"
                data={results}
                columns={columns}
                hide-checkbox-column="true"
                class="slds-m-top_medium"
            >
            </lightning-datatable>
        </template>

      
        <template if:false={isRecordFound}>
            <article class="slds-card">
                <div class="slds-card__body slds-card__body_inner">
                    <div class="slds-illustration slds-illustration_small" aria-hidden="true">
                        <img src="/img/chatter/OpenRoad.svg" class="slds-illustration__svg" alt="" />
                        <div class="slds-text-color_weak">
                            <h3 class="slds-text-color_weak slds-text-heading_medium">No Records Available</h3>
                        </div>
                    </div>
                </div>
            </article>
        </template>


        <template if:true={error}>
            <div class="slds-text-color_error slds-p-around_medium">{error}</div>
        </template>
    </lightning-card>
</template>
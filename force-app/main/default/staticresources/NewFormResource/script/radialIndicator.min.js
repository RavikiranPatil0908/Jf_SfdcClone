!function(a){var b=Function("return this")()||eval("this");"function"==typeof define&&define.amd?define(["jquery"],function(t){return b.radialIndicator=a(t,b)}):"object"==typeof module&&module.exports?module.exports=b.document?a(require("jquery"),b):function(t){if(!t.document)throw new Error("radialIndiactor requires a window with a document");return a(require("jquery")(t),t)}:b.radialIndicator=a(b.jQuery,b)}(function(t,e,n){var r,i,a=e.document,o=2*Math.PI,u=Math.PI/2,l=(r=a.createElement("canvas").getContext("2d"),i=(e.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),function(t,e,n){var r=n||a.createElement("canvas");return r.width=t*i,r.height=e*i,r.id="progressLoader",r.classList.add("progressLoader"),(r.style.width="40px"),r.style.height="40px",r.getContext("2d").setTransform(i,0,0,i,0,0),r});function s(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,r){return e+e+n+n+r+r});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null}function c(t,e,n,r){return Math.round(n+(r-n)*t/e)}function d(t,e){for(var n=e.toString().split(new RegExp("(-?[0-9])","g")).filter(function(t){return""!==t}).reverse(),r=t.split("").reverse(),i=0,a=0,o=r.length;i<o&&n.length;i++)"#"===r[i]&&(r[a=i]=n.shift());return r.splice(a+1,r.lastIndexOf("#")-a,n.reverse().join("")),r.reverse().join("")}function h(t,e){var n=this;e=function(){for(var t=arguments,e=t[0],n=1,r=t.length;n<r;n++){var i=t[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e}({},f.defaults,e=e||{}),this.indOption=e,"string"==typeof t&&(t=a.querySelector(t)),t.length&&(t=t[0]),this.container=t;var r=a.createElement("canvas");function i(t){if(e.interaction){function i(t){t.preventDefault();var r=t.clientX||t.touches[0].clientX,i=t.clientY||t.touches[0].clientY,a=(o+u+Math.atan2(i-d,r-h))%(o+.0175),l=e.radius-1+e.barWidth/2,s=o*l,c=null!=e.precision?e.precision:0,f=Math.pow(10,c),m=Math.round(f*a*l*(e.maxValue-e.minValue)/s)/f;n.value(m)}var l="touchstart"===t.type?"touchmove":"mousemove",s="touchstart"===t.type?"touchend":"mouseup",c=r.getBoundingClientRect(),d=c.top+r.offsetHeight/2,h=c.left+r.offsetWidth/2,f=function(){a.removeEventListener(l,i,!1),a.removeEventListener(s,f,!1)};a.addEventListener(l,i,!1),a.addEventListener(s,f,!1)}}function l(t){if(e.interaction){t.preventDefault();var r=-Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),i=null!=e.precision?e.precision:0,a=Math.pow(10,i),o=e.maxValue-e.minValue,u=n.current_value+Math.round(a*r*o/Math.min(o,100))/a;return n.value(u),!1}}t.appendChild(r),this.canElm=r,this.ctx=r.getContext("2d"),this.current_value=e.initValue||e.minValue||0,r.addEventListener("touchstart",i,!1),r.addEventListener("mousedown",i,!1),r.addEventListener("mousewheel",l,!1),r.addEventListener("DOMMouseScroll",l,!1)}function f(t,e){var n=new h(t,e);return n._init(),n}return f.defaults={reverse:!(h.prototype={constructor:f,_init:function(){var t,e=this.indOption,n=this.canElm,r=2*(e.radius+e.barWidth);return this.formatter="function"==typeof e.format?e.format:(t=e.format,function(e){if(!t||0===t.length)return e.toFixed(void 0).toString();var n=t.split("."),r=1<n.length?n[1].replace(/[^#]/g,"").length:0,i=e||0;if(t.includes(".")){var a=(i=parseFloat(i).toFixed(r)).toString().split(".");return d(n[0],parseFloat(a[0]).toFixed(0))+"."+d(n[1],a[1])}return d(t,parseFloat(i).toFixed(0))}),this.maxLength=e.percentage?4:this.formatter(e.maxValue).length,l(r,r,n),this._drawBarBg(),this.value(this.current_value),this},_drawBarBg:function(){var t=this.indOption,e=this.ctx,n=2*(t.radius+t.barWidth)/2;e.strokeStyle=t.barBgColor,e.lineWidth=t.barWidth,"transparent"!==t.barBgColor&&(e.beginPath(),e.arc(n,n,t.radius-1+t.barWidth/2,0,2*Math.PI),e.stroke())},value:function(t){if(t===n||isNaN(t))return this.current_value;t=parseFloat(t);var e=this.ctx,r=this.indOption,i=2*(r.radius+r.barWidth),a=r.minValue,l=r.maxValue,d=i/2,h=r.barColor;t=t<a?a:l<t?l:t;var f,m,p,v,g,x,b,y,C,w,B,M=null!=r.precision?r.precision:0,S=Math.pow(10,M),_=(t-a)*S/(l-a)*100/S,E=r.percentage?_.toFixed(M)+"%":this.formatter(t,M);if(this.current_value=t,e.clearRect(0,0,i,i),this._drawBarBg(),"object"==typeof h)for(var F=Object.keys(h),O=1,V=F.length;O<V;O++){var L,I=F[O-1],W=F[O],k=h[I],P=h[W];if(!1!==(L=t.toString()===I?k:t.toString()===W?P:I<t&&t<W&&(r.interpolate?(f=t,m=I,p=W,v=k,x=-1!==(g=P).indexOf("#")?s(g):g.match(/\d+/g),b=-1!==v.indexOf("#")?s(v):v.match(/\d+/g),y=p-m,C=f-m,x&&b?"rgb("+c(C,y,b[0],x[0])+","+c(C,y,b[1],x[1])+","+c(C,y,b[2],x[2])+")":null):P))){h=L;break}}if(e.strokeStyle=h,r.roundCorner&&(e.lineCap="round"),e.beginPath(),B=r.reverse?(w=o*((100-_)/100)-u,-u-1e-5):(w=-u,o*_/100-u),e.arc(d,d,r.radius-1+r.barWidth/2,w,B,!1),e.stroke(),r.displayNumber){var j=e.font.split(" "),q=r.fontWeight,R=r.fontSize||i/(this.maxLength-(Math.floor(1.4*this.maxLength/4)-1));j=r.fontFamily||j[j.length-1],e.fillStyle=r.fontColor||h,e.font=q+" "+R+"px "+j,e.textAlign="center",e.textBaseline=r.textBaseline,e.fillText(E,d,d)}return r.onChange.call(this.container,t),this},animate:function(t,e){var n,r=this,i=this.indOption,a=this.current_value,o=this,u=i.minValue,l=i.maxValue,s=i.frameNum||(i.percentage?100:500),c=this.current_value,d=(t=t<u?u:l<t?l:t)<c,h=Math.abs(this.current_value-t),f=Math.abs(l-u),m=h/f,p=e||i.duration*m||i.frameTime*s*m,v=function(e){var u=e-(n=n||e),l=u/p,s=h*i.easing(l);c=d?a-s:a+s,r.value(c),p<=u?(r.value(t),cancelAnimationFrame(v),i.onAnimationComplete&&i.onAnimationComplete(o.current_value)):requestAnimationFrame(v)};return requestAnimationFrame(v),this},option:function(t,e){if(e===n)return this.option[t];-1!==["radius","barWidth","barBgColor","format","maxValue","percentage"].indexOf(t)&&(this.indOption[t]=e,this._init().value(this.current_value)),this.indOption[t]=e}}),radius:50,barWidth:5,barBgColor:"#eeeeee",barColor:"#99CC33",format:null,duration:null,frameTime:10,frameNum:null,fontColor:null,fontFamily:null,fontWeight:"bold",fontSize:null,textBaseline:"middle",interpolate:!0,percentage:!1,precision:null,displayNumber:!0,roundCorner:!1,minValue:0,maxValue:100,initValue:0,interaction:!1,easing:function(t){return t},onChange:function(){}},e.radialIndicator=f,t&&(t.fn.radialIndicator=function(e){return this.each(function(){var n=f(this,e);t.data(this,"radialIndicator",n)})}),f});